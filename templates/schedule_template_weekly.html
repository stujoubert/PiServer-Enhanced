{% extends "layout.html" %}
{% block content %}

<div class="card-modern">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="fw-bold">
            {{ T.weekly_preview }} — {{ template.name }}
        </h3>

        <a href="{{ url_for('schedule_templates.templates_page', lang=current_lang) }}"
           class="btn btn-outline-secondary btn-modern">
            {{ T.back }}
        </a>
    </div>

    <div class="table-responsive">
        <table class="table table-modern text-center">
            <thead>
                <tr>
                    <th>{{ T.weekday }}</th>
                    {% for col in grid.columns %}
                        <th>{{ col }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in grid.rows %}
                    <tr>
                        {# IMPORTANT: row.weekday MUST be 0–6 #}
                        <td class="fw-semibold">
                            {{ T["weekday_" ~ row.weekday] }}
                        </td>

                        {% for cell in row.cells %}
                            <td>{{ cell }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>

{% endblock %}
