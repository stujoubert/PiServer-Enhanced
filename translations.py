# translations.py
from flask import g, request, session

LANG = {
    "en": {
        "app_title": "Attendance System",
        "nav_daily": "Daily",
        "nav_weekly": "Weekly",
        "nav_payroll": "Payroll",
        "nav_devices": "Devices",
        "nav_custom_report": "Custom Report",
        "nav_admin": "Admin",
        "nav_gallery": "Gallery",
        "apply": "Apply",
        "download_excel": "Download Excel",
        "download_pdf": "Download PDF",
        "start_date": "Start Date",
        "end_date": "End Date",
        "employee_id": "Employee ID",
        "name": "Name",
        "hours": "Hours",
        "date": "Date",
        "first_in": "First IN",
        "last_out": "Last OUT",
        "regular": "Regular",
        "overtime": "Overtime",
        "total": "Total",
        "col_timestamp": "Timestamp",
        "col_type": "Type",
        "col_device": "Device",
        "daily_attendance": "Daily Attendance",
        "weekly_attendance": "Weekly Attendance",
        "no_data_range": "No attendance records found for this period.",
        "weekly_summary_title": "Weekly Summary",
        "weekly_events_title": "Weekly Event Log",
        "payroll_title": "Payroll / Hours",
        "payroll_pdf_title": "Payroll Daily Breakdown",
        "payroll_pdf_subtitle": "Period",
        "custom_attendance_report": "Custom Attendance Report",
        "custom_attendance_subtitle": "Select a date range and choose the hours calculation mode.",
        "hours_calculation_mode": "Hours Calculation Mode",
        "mode_first_last": "First IN / Last OUT",
        "mode_first_last_desc": "Daily first IN and last OUT only",
        "mode_sequential_pairs": "Sequential IN/OUT Pairs",
        "mode_sequential_pairs_desc": "IN1 OUT1, IN2 OUT2, etc.",
        "mode_sum_pairs": "Sum All Valid Pairs",
        "mode_sum_pairs_desc": "Any IN followed by closest OUT",
        "summary_pdf": "Summary PDF",
        "event_log_pdf": "Event Log PDF",
        "active": "Active",
        "inactive": "Inactive",
        "device_name": "Device name",
        "ip_address": "IP address",
        "device_status": "Status",
        "username": "Username",
        "password": "Password",
        "actions": "Actions",
        "add_device": "Add Device",
        "edit": "Edit",
        "delete": "Delete",
        "confirm_delete": "Delete this item?",
        "activate": "Active",
        "deactivate": "Inactive",
        "save": "Save",
        "cancel": "Cancel",
        "fetch_now": "Fetch Now",
        "sync_users": "Sync Users",
        "test_connection": "Test Connection",
        "last_50_events": "Last 50 events",
        "smtp_settings": "SMTP / Email Settings",
        "smtp_sender": "Sender email",
        "smtp_host": "SMTP host",
        "smtp_port": "SMTP port",
        "smtp_password": "SMTP password",
        "report_recipient": "Report recipient",
        "weekly_schedule": "Weekly schedule",
        "workday_settings": "Workday Settings",
        "work_start_time": "Workday start time",
        "work_end_time": "Workday end time",
        "send_test_email": "Send test email",
        "users_title": "Users",
        "device_fetch_failed": "Failed to fetch events from device",
        "device_not_found": "Device not found",
        "events_imported": "Events imported",
        "week_type": "Week Type",
        "week_mon_fri": "Monday - Friday",
        "week_mon_sat": "Monday -  Saturday",
        "week_sat_fri": "Saturday -  Friday",
        "week_sat_sun": "Saturday - Sunday",
        "select_week": "Select Week",
        "choose_week": "Choose week",
        "download_weekly_excel": "Download Weekly Payroll Excel",
        "payroll_summary": "Payroll Summary",
        "in": "IN",
        "out": "OUT",
        "total_hours": "Total Hours",
        "weekly_totals": "Weekly Totals",
        "regular_hours": "Regular Hours",
        "overtime_hours": "Overtime Hours",
        "monday": "Monday",
        "tuesday": "Tuesday",
        "wednesday": "Wednesday",
        "thursday": "Thursday",
        "friday": "Friday",
        "saturday": "Saturday",
        "sunday": "Sunday",
        "week_prefix": "Week",
        "sat_fri": "Saturday to Friday",
        "mon_fri": "Monday to Friday",
        "mon_sat": "Monday to Saturday",
        "sun_sat": "Sunday to Saturday",
        "months_short": ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
                         "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        "all_users": "All users",
        "punches": "Punches",
        "flags": "Flags",
        "all_users": "All users",
        "off_day_work": "Off day work",
        # Users (new)
        "nav_users": "Users",
        "user_name_required": "Name is required",
        "user_created": "User created successfully",
        "user_updated": "User updated",
        "user_deleted": "User deleted",
        "user_not_found": "User not found",
        "user_or_device_not_found": "User or device not found",
        "no_users_selected": "No users selected",
        "user_sync_failed": "User sync failed",
        "face_sync_failed": "Face sync failed",
        "user_and_face_synced": "User and face synced to device",
        "user_synced_no_face": "User synced (no face template)",
        "bulk_sync_result": "Bulk sync result",
        "daily_attendance": "Daily Attendance",
        "language_label": "Language:",
        "add_user": "Add User",
        "photo": "Photo",
        "faces": "Faces",
        "face_singular": "face",
        "face_plural": "faces",
        "view": "view",
        "resync_users": "Re-sync Users from Device",
        "import_faces_fdlib": "Import Faces from Device (FDLib)",
        "promote_event_snapshots": "Promote Event Snapshots",
        "add_user": "Add User",
        "back_to_users": "Back to Users",
        "employee_name": "Employee name",
        "select_device": "Select a device",
        "save_user": "Save User",
        "edit_user": "Edit User",
        "update_user": "Update User",
        "face_enrollment": "Face Enrollment",
        "no_face_image": "No face image stored for this user.",
        "upload_face_image": "Upload face image (JPG / PNG)",
        "upload_face": "Upload Face",
        "use_event_snapshot": "Use Event Snapshot as Face",
        "confirm_use_snapshot": "Use latest access snapshot as face image?",
        "source": "Source",
        "updated": "Updated",
        "face_library": "Face Library",
        "created_at": "Created at",
        "no_faces": "No face images available.",
        # Schedules
        "add_schedule": "Create Schedule",
        "existing_schedules": "Existing Schedules",
        "daily_hours": "Daily Hours",
        "auto_heal": "Auto Heal",
        "allow_overtime": "Allow OT",
        "workday": "Workday",
        "off_day": "Off Day",
        "grace_in": "Grace In (min)",
        "grace_out": "Grace Out (min)",
        "time": "Time",
        "yes": "Yes",
        "no": "No",
        "assign_schedule_users": "Assign Schedule to Users",
        "schedule": "Schedule",
        "select_schedule": "Select a scheduleâ€¦",
        "schedule_defines_days": "The selected schedule already defines working days and off days.",
        "assign": "Assign Users to Schedule",
        "multi_select_hint": "Hold Ctrl (Windows/Linux) or Cmd (macOS) to select multiple users.",
        "edit_schedule": "Edit Schedule",
        "start_time": "Start Time",
        "end_time": "End Time",
        "daily_hours": "Daily Hours",
        "auto_heal": "Auto heal",
        "allow_overtime": "Allow overtime",
        "workday": "Workday",
        "off_day": "Off day",
        "existing_schedules": "Existing Schedules",
        "assign_schedule": "Assign Schedule",
        "yes": "Yes",
        "no": "No",
        # Daily Audit
        "daily_audit": "Daily Audit",
        "audit": "Audit",
        "export_csv": "Export CSV",
        "user": "User",
        "all_users": "All users",
        "all_devices": "All devices",
        "time": "Time",
        "device": "Device",
        "duplicate": "dup",
        "audit_note": "This view shows raw punches only. IN/OUT and hours are calculated elsewhere.",
        "duplicate_note": "Rows highlighted in red are likely duplicates (â¤ 60 seconds apart).",
        "no_events_found": "No events found for this date.",

        # Dashboard (new)
        "attendance_rate": "Attendance Rate",
        "expected": "Expected",
        "attended": "Attended",
        "absent": "Absent",
        "present": "Present",
        "late": "Late",
        "early_leave": "Early Leave",
        "missed_check": "Missed Check",
        "monthly_summary": "Monthly Summary",
        "days_attended": "Days Attended",
        "month_label": ["January", "February", "March", "April", "May", "June",
                        "July", "August", "September", "October", "November", "December"],


        "weekly_hours_report": "Weekly Hours Report",
        "employee": "Employee",
        "period": "Period",
        "day": "Day",
        "first_in": "In",
        "last_out": "Out",
        "hours": "Hours",
        "overtime": "Overtime",
        "regular_hours": "Regular Hours",
        "overtime_hours": "Overtime Hours",
        "total_hours": "Total Hours",
        "employee_signature": "Employee Signature",
        "date": "Date",
        "print": "Print",
        "show_inactive_users": "Show inactive users",
        "hide_inactive_users": "Hide inactive users",
        "active": "Active",
        "inactive": "Inactive",
        "confirm_action": "Confirm action",
        "confirm_activate": "Confirm active",
        "confirm_deactivate": "Confirm deactivate",
        "confirm": "Confirm",
        "cancel": "Cancel",
        "activate": "Activate",
        "deactivate": "Deactivate",
        "nav_accounts": "Accounts",
        "management": "Manangement",
        "configuration": "Configuration",
        "company_settings": "Company Settings",
        "company_name": "Company Name",
        "company_rfc": "RFC",
        "company_logo": "Company Logo",
        "save_changes": "Save Changes",
        "supports_fdlib": "Supports FDLib (Faces)",
        "supports_fdlib_help": "When enabled, this device will be used as an FDLib face source.",
        "enable": "Enable",
        # ---- SCHEDULES / TEMPLATES (GENERAL) ----
        "advanced_schedules": "Advanced Schedules",
        "assign_templates": "Assign Templates to Users",
        "create_template": "Create Template",
        "edit_template": "Edit Template",
        "template_name": "Template Name",
        "description": "Description",
        "actions": "Actions",
        "preview": "Preview",
        "back": "Back",
        "save": "Save",
        "create": "Create",

        # ---- RULES / SHIFTS ----
        "rules": "Rules",
        "weekdays": "Weekdays",
        "weekday": "Weekday",
        "no_rules": "No rules defined",
        "delete": "Delete",

        # ---- WEEKLY PREVIEW ----
        "weekly_preview": "Weekly Preview",

        # ---- ASSIGN SCHEDULES ----
        "assign_schedules": "Assign Schedules",
        "select_template": "Select Schedule Template",
        "current_schedule": "Current Schedule",
        "no_schedule": "No schedule",
        "apply": "Apply",

        # ---- COMMON ----
        "employee_id": "Employee ID",
        "name": "Name",
        "no_templates": "No schedule templates defined",

        # ---- WEEKDYAS ----
        "weekday": "Weekday",
        "weekday_0": "Monday",
        "weekday_1": "Tuesday",
        "weekday_2": "Wednesday",
        "weekday_3": "Thursday",
        "weekday_4": "Friday",
        "weekday_5": "Saturday",
        "weekday_6": "Sunday",

        # ---- SCHEDULE FLAGS ----
        "no_schedule": "No Schedule",
        "overtime": "Overtime",

        "assign_templates": "Assign schedules",
        "select_template": "Select schedule template",
        "current_schedule": "Current schedule",
        "apply": "Apply",

        "advanced_schedules": "Advanced schedules",
        "assign_templates": "Assign schedules",
        "create_template":"Create template",
        "template_name": "Template name",
        "description": "Description",
        "actions": "Actions",
        "edit":  "Edit",
        "preview ": "Preview",
        "create": "Create",
        "no_templates": "No schedule templates defined",
        "no_description": "-",
        "edit_template": "Edit template",
        "back": "Back",
        "template_name": "Template name",
        "description": "Description",
        "save": "Save",
        "rules": "Rules",
        "weekdays": "Weekdays",
        "delete": "Delete",
        "no_rules": "No rules defined",
        "add_rule": "Add rule",
        "delete_rule": "Delete rule",
        "delete_shift": "Delete shift",
        "no_shifts": "No shifts",
        "add_hours": "Add hours",
        "delete_rule": "Delete rule",
        "confirm_delete_rule": "Delete this rule and all its hours?",
        "confirm_delete_hours": "Delete this time range?",
        # ---- UPLOAD USERS TO DEVICES ----
        "push_users_to_device": "Push Users to Device",
        "select_device": "Select Device",
        "push": "Push to Device",
        "results": "Results",
        "status": "Status",
        "details": "Details",
        "push_users": "Push Users",
        "push_users_to_device": "Push Users to Device",
        "select_device": "Select Device",
        "select_device_placeholder": "Select a device",
        "next": "Next",


    },
    "es": {
        "app_title": "Sistema de Asistencia",
        "nav_daily": "Diario",
        "nav_weekly": "Semanal",
        "nav_payroll": "Nomina",
        "nav_devices": "Dispositivos",
        "nav_custom_report": "Reporte Personalizado",
        "nav_admin": "Administracion",
        "nav_gallery": "Galeria",
        "apply": "Aplicar",
        "download_excel": "Descargar Excel",
        "download_pdf": "Descargar PDF",
        "start_date": "Fecha de inicio",
        "end_date": "Fecha de fin",
        "employee_id": "ID Empleado",
        "name": "Nombre",
        "hours": "Horas",
        "date": "Fecha",
        "first_in": "Primera ENTRADA",
        "last_out": "Ultima SALIDA",
        "regular": "Horas Normales",
        "overtime": "Horas Extra",
        "total": "Total",
        "col_timestamp": "Fecha y hora",
        "col_type": "Tipo",
        "col_device": "Dispositivo",
        "daily_attendance": "Asistencia Diaria",
        "weekly_attendance": "Asistencia Semanal",
        "no_data_range": "No se encontraron registros de asistencia en este periodo.",
        "weekly_summary_title": "Resumen Semanal",
        "weekly_events_title": "Registro Semanal de Eventos",
        "payroll_title": "Nomina / Horas",
        "payroll_pdf_title": "Desglose Diario de Nomina",
        "payroll_pdf_subtitle": "Periodo",
        "custom_attendance_report": "Reporte de Asistencia Personalizado",
        "custom_attendance_subtitle": "Selecciona un rango de fechas y el modo de calculo de horas.",
        "hours_calculation_mode": "Modo de Calculo de Horas",
        "mode_first_last": "Primera ENTRADA / Ultima SALIDA",
        "mode_first_last_desc": "Solo la primera ENTRADA y Ultima SALIDA del dia",
        "mode_sequential_pairs": "Pares ENTRADA/SALIDA Secuenciales",
        "mode_sequential_pairs_desc": "ENTRADA1 SALIDA1, ENTRADA2 SALIDA2, etc.",
        "mode_sum_pairs": "Suma de Todos los Pares Validos",
        "mode_sum_pairs_desc": "Cualquier ENTRADA seguida de la SALIDA mas cercana",
        "summary_pdf": "Resumen PDF",
        "event_log_pdf": "PDF de Eventos",
        "active": "Activo",
        "inactive": "Inactivo",
        "device_name": "Nombre del dispositivo",
        "ip_address": "Direccion IP",
        "device_status": "Estado",
        "username": "Usuario",
        "password": "Contrasena",
        "actions": "Acciones",
        "add_device": "Agregar dispositivo",
        "edit": "Editar",
        "delete": "Eliminar",
        "confirm_delete": "Eliminar este elemento?",
        "activate": "Activo",
        "deactivate": "Inactivo",
        "save": "Guardar",
        "cancel": "Cancelar",
        "fetch_now": "Obtener ahora",
        "sync_users": "Sincronizar usuarios",
        "test_connection": "Probar conexion",
        "last_50_events": "Ultimos 50 eventos",
        "smtp_settings": "Configuracion SMTP / correo",
        "smtp_sender": "Correo del remitente",
        "smtp_host": "Servidor SMTP",
        "smtp_port": "Puerto SMTP",
        "smtp_password": "Contrasena SMTP",
        "report_recipient": "Destinatario de reportes",
        "weekly_schedule": "Programacion semanal",
        "workday_settings": "Configuracion de jornada laboral",
        "work_start_time": "Hora de inicio de jornada",
        "work_end_time": "Hora de fin de jornada",
        "send_test_email": "Enviar correo de prueba",
        "users_title": "Usuarios",
        "device_fetch_failed": "Error al obtener eventos del dispositivo",
        "device_not_found": "Dispositivo no encontrado",
        "events_imported": "Eventos importados",
        "week_type": "Tipo de semana",
        "week_mon_fri": "Lunes - Viernes",
        "week_mon_sat": "Lunes - Sabado",
        "week_sat_fri": "Sabado - Viernes",
        "week_sat_sun": "Sabado - Domingo",
        "select_week": "Seleccionar semana",
        "choose_week": "Elegir semana",
        "download_weekly_excel": "Descargar Nomina Semanal en Excel",
        "payroll_summary": "Resumen de Nomina",
        "in": "Entrada",
        "out": "Salida",
        "total_hours": "Horas Totales",
        "weekly_totals": "Totales Semanales",
        "regular_hours": "Horas Regulares",
        "overtime_hours": "Horas Extra",
        "monday": "Lunes",
        "tuesday": "Martes",
        "wednesday": "Miercoles",
        "thursday": "Jueves",
        "friday": "Viernes",
        "saturday": "Sabado",
        "sunday": "Domingo",
        "week_prefix": "Semana",
        "sat_fri": "Sabado a Viernes",
        "mon_fri": "Lunes a Viernes",
        "mon_sat": "Lunes a Sabado",
        "sun_sat": "Domingo a Sabado",
        "months_short": ["Ene", "Feb", "Mar", "Abr", "May", "Jun",
                         "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"],
        "nav_users": "Usuarios",
        "user_name_required": "El nombre es obligatorio",
        "user_created": "Usuario creado correctamente",
        "user_updated": "Usuario actualizado",
        "user_deleted": "Usuario eliminado",
        "user_not_found": "Usuario no encontrado",
        "user_or_device_not_found": "Usuario o dispositivo no encontrado",
        "no_users_selected": "No se seleccionaron usuarios",
        "user_sync_failed": "Error al sincronizar usuario",
        "face_sync_failed": "Error al sincronizar rostro",
        "user_and_face_synced": "Usuario y rostro sincronizados con el dispositivo",
        "user_synced_no_face": "Usuario sincronizado (sin plantilla de rostro)",
        "bulk_sync_result": "Resultado de sincronizacion masiva",
        "language_label": "Idioma:",
        "daily_attendance": "Asistencia Diaria",
        "all_users": "Todos los usuarios",
        "punches": "Marcajes",
        "flags": "Indicadores",
        "all_users": "Todos los usuarios",
        "off_day_work": "Trabajo en dÃ­a de descanso",

        # Dashboard (new)
        "attendance_rate": "Porcentaje de Asistencia",
        "expected": "Esperados",
        "attended": "Asistieron",
        "absent": "Ausentes",
        "present": "Presentes",
        "late": "Retardo",
        "early_leave": "Salida Temprana",
        "missed_check": "Registro Perdido",
        "monthly_summary": "Resumen Mensual",
        "days_attended": "Dias Asistidos",
        "month_label": ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
                        "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
        # Usuers New
        "add_user": "Agregar Usuario",
        "photo": "Foto",
        "faces": "Rostros",
        "face_singular": "Rostro",
        "face_plural": "Rostros",
        "view": "Ver",
        "resync_users": "Sycnronizar Usuarios del Dispositivo",
        "import_faces_fdlib": "Importar Rostros del Dispositivo",
        "promote_event_snapshots": "Sycnronizar Rostros de Eventos",
        "add_user": "Agregar usuario",
        "back_to_users": "Volver a usuarios",
        "employee_name": "Nombre del empleado",
        "select_device": "Selecciona un dispositivo",
        "save_user": "Guardar usuario",
        "edit_user": "Editar Usuario",
        "update_user": "Actualizar Usuario",
        "face_enrollment": "Registro de Rostro",
        "no_face_image": "No hay una imagen de rostro almacenada para este usuario.",
        "upload_face_image": "Subir imagen de rostro (JPG / PNG)",
        "upload_face": "Subir Rostro",
        "use_event_snapshot": "Usar Captura de Evento como Rostro",
        "confirm_use_snapshot": "Â¿Usar la Ultima captura de acceso como imagen de rostro?",
        "source": "Origen",
        "updated": "Actualizado",
        "back_to_users": "Volver a Usuarios",
        "face_library": "Biblioteca de Rostros",
        "created_at": "Creado el",
        "no_faces": "No hay imagenes de rostro disponibles.",
        # Schedules
        "add_schedule": "Crear Horario",
        "existing_schedules": "Horarios Existentes",
        "daily_hours": "Horas Diarias",
        "auto_heal": "Correccion Automatica",
        "allow_overtime": "Permitir Horas Extra",
        "workday": "Dia Laboral",
        "off_day": "Dia Libre",
        "grace_in": "Tolerancia Entrada (min)",
        "grace_out": "Tolerancia Salida (min)",
        "time": "Horario",
        "yes": "Si",
        "no": "No",
        "assign_schedule_users": "Asignar Horario a Usuarios",
        "schedule": "Horario",
        "select_schedule": "Selecciona un horario",
        "schedule_defines_days": "El horario seleccionado ya define los dias laborales y dias libres.",
        "assign": "Asignar Usuarios al Horario",
        "multi_select_hint": "Manten presionado Ctrl (Windows/Linux) o Cmd (macOS) para seleccionar varios usuarios.",
        "edit_schedule": "Editar horario",
        "start_time": "Hora de inicio",
        "end_time": "Hora de salida",
        "daily_hours": "Horas diarias",
        "auto_heal": "Auto corregir",
        "allow_overtime": "Permitir horas extra",
        "workday": "Dia laborable",
        "off_day": "Dia libre",
        "existing_schedules": "Horarios existentes",
        "assign_schedule": "Asignar horario",
        "yes": "Si",
        "no": "No",
        # Daily Audit
        "daily_audit": "Auditoria Diaria",
        "audit": "Auditoria",
        "export_csv": "Exportar CSV",
        "user": "Usuario",
        "all_users": "Todos los usuarios",
        "all_devices": "Todos los dispositivos",
        "time": "Hora",
        "device": "Dispositivo",
        "duplicate": "duplicado",
        "audit_note": "Esta vista muestra solo checadas crudas. ENTRADA/SALIDA y horas se calculan en otra seccion.",
        "duplicate_note": "Las filas resaltadas en rojo probablemente son duplicadas (-60 segundos de diferencia).",
        "no_events_found": "No se encontraron eventos para esta fecha.",
        "weekly_hours_report": "Reporte semanal de horas",
        "employee": "Empleado",
        "period": "Periodo",
        "day": "Dia",
        "first_in": "Entrada",
        "last_out": "Salida",
        "hours": "Horas",
        "overtime": "Horas extra",
        "regular_hours": "Horas normales",
        "overtime_hours": "Horas extra",
        "total_hours": "Total de horas",
        "employee_signature": "Firma del empleado",
        "date": "Fecha",
        "print": "Imprimir",
        "show_inactive_users": "Mostrar usuarios inactivos",
        "hide_inactive_users": "Ocultar usuarios inactivos",
        "active": "Activo",
        "inactive": "Inactivo",
        "confirm_action": "Confirmar accion",
        "confirm_activate": "Confirmar activacion",
        "confirm_deactivate": "Confirmar desactivacion",
        "confirm": "Confirmar",
        "cancel": "Cancelar",
        "activate": "Activar",
        "deactivate": "Desactivar",
        "nav_accounts": "Cuentas",
        "management": "Sistema",
        "configuration": "Configuracion",
        "company_settings": "Configuracion de la Empresa",
        "company_name": "Nombre de la Empresa",
        "company_rfc": "RFC",
        "company_logo": "Logotipo de la Empresa",
        "save_changes": "Guardar Cambios",
        "supports_fdlib": "Soporta FDLib (Rostros)",
        "supports_fdlib_help": "Al activarlo, este dispositivo se usara como fuente de rostros (FDLib).",
        "enable": "Activar",

        # ---- SCHEDULES / TEMPLATES (GENERAL) ----
        "advanced_schedules": "Horarios Avanzados",
        "assign_templates": "Asignar Horarios a Usuarios",
        "create_template": "Crear Horario",
        "edit_template": "Editar Horario",
        "template_name": "Nombre del Horario",
        "description": "Descripcion",
        "actions": "Acciones",
        "preview": "Vista Previa",
        "back": "Regresar",
        "save": "Guardar",
        "create": "Crear",

        # ---- RULES / SHIFTS ----
        "rules": "Reglas",
        "weekdays": "Dias de la Semana",
        "weekday": "Dia",
        "no_rules": "No hay reglas definidas",
        "delete": "Eliminar",

        # ---- WEEKLY PREVIEW ----
        "weekly_preview": "Vista Semanal",

        # ---- ASSIGN SCHEDULES ----
        "assign_schedules": "Asignar Horarios",
        "select_template": "Seleccionar Horario",
        "current_schedule": "Horario Actual",
        "no_schedule": "Sin horario",
        "apply": "Aplicar",

        # ---- COMMON ----
        "employee_id": "ID de Empleado",
        "name": "Nombre",
        "no_templates": "No hay horarios creados",

        # ---- WEEKDAYS ----
        "weekday": "Dia",
        "weekday_0": "Lunes",
        "weekday_1": "Martes",
        "weekday_2": "Miercoles",
        "weekday_3": "Jueves",
        "weekday_4": "Viernes",
        "weekday_5": "Sabado",
        "weekday_6": "Domingo",

        # ---- SCHEDULE FLAGS ----
        "no_schedule": "Sin horario",
        "overtime": "Horas extra",

        "assign_templates": "Asignar horarios",
        "select_template":  "Seleccionar plantilla",
        "current_schedule": "Horario actual",
        "apply": "Aplicar",

        "advanced_schedules": "Horarios avanzados",
        "assign_templates": "Asignar horarios",
        "create_template": "Crear plantilla",
        "template_name": "Nombre de la plantilla",
        "description": "Descripcion",
        "actions": "Acciones",
        "edit": "Editar",
        "preview": "Vista previa",
        "create": "Crear",
        "no_templates": "No hay plantillas de horario definidas",
        "no_description": "-",
        "edit_template": "Editar plantilla",
        "back": "Regresar",
        "template_name": "Nombre de la plantilla",
        "description": "Descripcion",
        "save": "Guardar",
        "rules": "Reglas",
        "weekdays": "Dias",
        "delete": "Eliminar",
        "no_rules": "No hay reglas definidas",
        "add_rule": "Agregar regla",
        "delete_rule": "Eliminar regla",
        "delete_shift": "Eliminar horario",
        "no_shifts": "No hay horarios definidos",
        "add_hours": "Agregar horario",
        "delete_rule": "Eliminar regla",
        "confirm_delete_rule": "Eliminar esta regla y todos sus horarios?",
        "confirm_delete_hours": "Eliminar este horario?",
        # ---- UPLOAD USERS TO DEVICE ----
        "push_users_to_device": "Enviar usuarios al dispositivo",
        "select_device": "Seleccionar dispositivo",
        "push": "Enviar al dispositivo",
        "results": "Resultados",
        "status": "Estado",
        "details": "Detalles",
        "push_users": "Enviar usuarios",
        "push_users_to_device": "Enviar usuarios al dispositivo",
        "push_users_to_device": "Enviar usuarios al dispositivo",
        "select_device": "Seleccionar dispositivo",
        "select_device_placeholder": " Seleccione un dispositivo",
        "next": "Siguiente",


    },
}


def get_locale():
    lang = request.args.get("lang")
    if lang in LANG:
        session["lang"] = lang
        return lang
    return session.get("lang", "en")


def init_i18n(app):
    @app.before_request
    def _load_language():
        lang = get_locale()
        g.lang = lang
        g.T = LANG[lang]

    @app.context_processor
    def _inject_translations():
        return {
            "T": getattr(g, "T", LANG["en"]),
            "current_lang": getattr(g, "lang", "en"),
        }
